
<div class="container">

  <!--TÃ­tulos de las secciones-->
  <div class="row">
    <div class="page-header d-flex justify-content-between pb-3">
      <h1 class="h2">Cuestionario {{respuestasForm.value.titulo}} para {{respuestasForm.value.destinatario}}</h1>

    </div>
  </div>

  <!--Contenido de las secciones-->
  <div class="p-3" >
    <div class="row">
      <div class="col-sm-12">


        <form [formGroup]="respuestasForm" (ngSubmit)="onSubmit()">

          <br>

          <div class="row mb-2 p-4 border border-primary rounded" style="background-color: #fff;">
            <table class="table-insertar-respuestas" formArrayName="respuestas">

              <div *ngFor="let respuesta of respuestas().controls; let i=index" [formGroupName]="i">

                <div class="pregunta py-4" style="padding-left: 15px;">
                  <p class="pregunta-p" style="font-weight: bold; color:primary; font-size: 14px;">{{respuesta.value.pregunta}}</p>
                </div>

                <div *ngIf="respuesta.value.tipo=='texto'">
                  <div class="container-text respuesta py-2" style="padding-left: 15px;">
                    <input type="text" formControlName="respuesta" class="form-control"
                    [ngClass]="{
                      'is-invalid': respuesta.get('respuesta')?.hasError('required'),
                      'is-valid': !respuesta.get('respuesta')?.hasError('required')
                    }"
                    >
                  </div>
                </div>

                <div *ngIf="respuesta.value.tipo=='rango'">

                    <div class="container-radio respuesta py-2" style="padding-left: 15px;">
                      <div class="row">
                        <div class="col-1 mb-2"><label><input type="radio" formControlName="respuesta" value="1"><span class=" ml-2"> 1 </span></label></div>
                        <div class="col-1 mb-2"><label><input type="radio" formControlName="respuesta" value="2"><span class=" ml-2"> 2 </span></label></div>
                        <div class="col-1 mb-2"><label><input type="radio" formControlName="respuesta" value="3"><span class=" ml-2"> 3 </span></label></div>
                        <div class="col-1 mb-2"><label><input type="radio" formControlName="respuesta" value="4"><span class=" ml-2"> 4 </span></label></div>
                        <div class="col-1 mb-2"><label><input type="radio" formControlName="respuesta" value="5"><span class=" ml-2"> 5 </span></label></div>
                      </div>
                      <div *ngIf="respuesta.get('respuesta')?.hasError('required')" style="color:#af130d;">Requerido</div>
                    </div>
                </div>

                <hr>



              </div>

            </table>
          </div>

          <br>

          <button type="submit" [disabled]="!respuestasForm.valid" class="btn btn-primary">Guardar</button>
        </form>



      </div>
    </div>
  </div>


</div>
