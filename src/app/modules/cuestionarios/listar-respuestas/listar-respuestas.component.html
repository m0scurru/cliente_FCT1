<div class="container">

  <form [formGroup]="filtrosGraficasForm">

    <div class="row mb-2 p-4">
      <div class="col col-6">
        <p>
          <label for="titulo">Curso Academico:</label>
          <select formControlName="curso_academico" class="form-control form-select" (change)="changeCursoAcademico($event)">
            <option *ngFor="let curso of cursosAcademicos" [value] = "curso.curso_academico">{{curso.curso_academico}}</option>
          </select>
        </p>
      </div>
      <div class="col col-6">
        <p>
          <label for="destinatario">Destinatario:</label>
          <select formControlName="destinatario" class="form-control form-select" (change)="changeDestinatario($event)">
            <option value="alumno" class="p-y-2">Alumno</option>
            <option value="empresa" class="p-y-2">Empresa</option>
          </select>
        </p>
      </div>
    </div>

  </form>


<div class="row m-5 bg-white p-5 rounded">


  <ngx-charts-bar-vertical
      [view]="[1000,400]"
      [results]="mediaCuestionarios"
      [xAxisLabel]="'Products'"
      [legendTitle]="'Preguntas'"
      [yAxisLabel]="'Sale'"
      [legend]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="false"
      [xAxis]="false"
      [yAxis]="true"
      [gradient]="false">
  </ngx-charts-bar-vertical>

</div>

<hr>

<div class="row mt-5">

  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered row-border hover text-center table-hover">
    <thead class="table-primary text-white">
        <tr>
            <th scope="col">TÃ­tulo</th>
            <th scope="col">DNI</th>
            <th scope="col">Ciclo Formativo</th>
            <th scope="col">Descargar PDF</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let cuestionario of cuestionarios; index as i">

            <td scope="col">
              <p>{{ cuestionario.titulo }}</p>

            </td>

            <td scope="col">
              <p>{{ cuestionario.id_usuario }}</p>
            </td>

            <td scope="col">
              <p>{{ cuestionario.ciclo }}</p>
            </td>

            <td scope="col">
                <button (click)="descargarCuestionarioRespondido(cuestionario.id)" class="btn btn-outline-primary px-2 py-1 me-2" type="button" aria-label="editar">
                  <svg class="bi" width="16" height="16">
                      <use xlink:href="#descarga" />
                  </svg>
                </button>
            </td>

        </tr>
    </tbody>
  </table>

</div>
