<div class="row">
    <div class="col-12">
        <div class="row">
            <div class="col-12  pb-3 page-header d-flex justify-content-between">
                <h1 class="h2">Gestión de Anexos</h1>
                <button type="button" class="btn btn-outline-default mr-2 float-end" placement="left" ngbTooltip="Haga clic para acceder a la ayuda de esta sección" (click)="abrirAyuda()">?</button>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <form>
                    <div class="row p-3">
                        <div class="col-12  bg-white">
                            <div class="container">
                                <div class="row p-3">
                                    <div class="col-12  bg-white">
                                        <button (click)="descargarTodo()" class="btn btn-outline-primary float-end" aria-label="descargarTodo" title="descargar todo">Descargar todo</button>
                                    </div>
                                </div>
                                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered row-border hover text-center table-hover">
                                    <thead class="table-primary text-white">
                                        <tr>
                                            <th scope="col">Anexo</th>
                                            <th scope="col">Relleno</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let anexo of anexosArray; index as i">

                                            <td scope="col">
                                                <p>{{ anexo.nombre }}</p>
                                                <p style="display: none;">{{ anexo.codigo }}</p>
                                            </td>

                                            <td scope="col">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">
                                                <path *ngIf="anexo.relleno == 0"
                                                  d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z" />
                                                <path *ngIf="anexo.relleno == 1"
                                                  d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
                                              </svg>
                                            </td>
                                            <td scope="col">
                                                <button *ngIf="anexo.relleno==1" (click)="descargarAnexo(anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="submit" title="descargar" aria-label="descargar">
                                                        <svg class="bi" width="16" height="16">
                                                          <use xlink:href="#descarga" />
                                                        </svg>
                                                </button>
                                                <button *ngIf="anexo.relleno==0" (click)="descargarAnexo(anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="submit" title="descargar" aria-label="descargar" disabled>
                                                      <svg class="bi" width="16" height="16">
                                                        <use xlink:href="#descarga" />
                                                      </svg>
                                                </button>
                                                <button *ngIf="anexo.relleno==1" (click)="abrirModalUpload(anexo.nombre, anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="file" id="file" title="subir" aria-label="Enviar documento">
                                                  <svg class="bi" width="16" height="16">
                                                    <use xlink:href="#uploadCrud" />
                                                  </svg>
                                               </button>
                                                <button *ngIf="anexo.relleno==0" (click)="abrirModalUpload(anexo.nombre, anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="file" id="file" title="subir" aria-label="Enviar documento" disabled>
                                                <svg class="bi" width="16" height="16">
                                                  <use xlink:href="#uploadCrud" />
                                                </svg>
                                             </button>
                                                <button *ngIf="anexo.nombre=='AnexoXV'" (click)="abrirRelleno (anexo.nombre,anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="submit" title="Rellenar" aria-label="firma">
                                                        <svg class="bi" width="16" height="16">
                                                          <use xlink:href="#rellenar" />
                                                        </svg>
                                                </button>
                                                <button *ngIf="anexo.nombre!='AnexoXV'" (click)="abrirRelleno (anexo.nombre,anexo.codigo)" class="btn btn-outline-primary px-2 py-1 me-2" type="submit" aria-label="firma" title="Rellenar" disabled>
                                                  <svg class="bi" width="16" height="16">
                                                    <use xlink:href="#rellenar" />
                                                  </svg>
                                          </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
